<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <!-- 버튼을 클릭시 무작위로 문서 배경색이 변경되도록 하고 싶음. -->
    <div>
      <button style="color: blue">Change Color</button>
    </div>
    <div>
      <!-- form 태그 : 사용자의 입력을 받기 위한 태그들 
        action : 폼이 가야할 곳. 액션에 무언가를 넣지 않았기 때문에, 원래 주소로 다시 반환된다. 
        method : get(기본), post
    -->
      <!-- 주소줄에 따라가는 파라미터. 사용자가 어떤 값을 입력하는지 확인할 수 있음 : get 방식. -->
      <form action="" method="get">
        <div>
          <label for="fname">First Name : </label>
          <input type="text" id="fname" name="fname" />
        </div>
        <div>
          <label for="lname">Last Name : </label>
          <input type="text" id="lname" name="lname" />
        </div>
        <div>
          <input type="submit" value="전송" />
        </div>
      </form>
    </div>
    <script>
      // 이벤트 : 프로그램 내에서 발생하는 어떤 사건에 대한 응답
      // 사건이란? 사용자가 입력하는 키 값, 브라우저 창의 크기가 변경, 페이지가 로드 된다거나, 버튼이 눌러지는 등의 사용자와의 상호작용.
      // 폼 제출도 포함.

      // 이벤트 대상 : button. 버튼이 눌러질 때마다 상호작용.
      // 이벤트 핸들러 : 응답 처리 담당.

      // 이벤트 대상 찾아오기. 버튼 태그 찾아오기.
      const btn = document.querySelector("button");

      // function 작업하기
      function random(number) {
        return Math.floor(Math.random() * (number + 1));
        // 수학객체 Math. .floor(), .random() 사용.
        // floor : 주어진 숫자와 같거나 작은 정수 중에서 가장 큰 수를 반환. random : 0~1 숫자 중 무작위로 뽑아줌.
      }

      function beChange(e) {
        const rndCol =
          "rgb(" + random(255) + "," + random(255) + "," + random(255) + ")";
        // rgb 값을 넘겨준다. 0~255 사이의 정수.
        // style="background-color: rgb(123, 123, 123)" 아래 코드와 같은 의미.
        document.body.style.backgroundColor = rndCol;

        console.log(e); // e : 현재 이벤트를 일으키는 대상을 표현하는 변수. event로 써도 무방.
        console.log(e.target); // 이벤트를 일으키는 대상을 .target을 사용해서 더 정확히 알 수 있음.
      }

      btn.addEventListener("click", beChange); // 이벤트 핸들러.

      //익명함수로 연결한다.
      //   btn.onclick = function () {
      //     const rndCol =
      //       "rgb(" + random(255) + "," + random(255) + "," + random(255) + ")";
      //     document.body.style.backgroundColor = rndCol;
      //   };

      // submit() 기능 중지
      const form = document.querySelector("form");
      const fname = document.querySelector("#fname");
      const lname = document.querySelector("#lname");
      form.onsubmit = function (e) {
        if (fname.value === "" || lname.value === "") {
          e.preventDefault(); // 이벤트 중지시키는 메서드
          alert("입력값을 확인해주세요");
        }
        // if 문 사용. fname과 lname에 들어가는 value가 없다면 경고를 발생시킨다.
      };
    </script>
  </body>
</html>
